% Remember to use the lgrind style

\Head{}
\File{Retrieve\_Doc.pl}{2004}{11}{18}{21:17}{668}
\L{\LB{\K{\#}!/\V{usr}/\V{bin}/\V{perl}_\-\V{w}}}
\L{\LB{}}
\L{\LB{\V{use}_\V{strict};}}
\L{\LB{\V{use}_\V{warnings};}}
\L{\LB{\V{use}_\V{Net}::\V{FTP};}}
\L{\LB{}}
\L{\LB{\V{my}_\N{\$host}_=_\N{\$ARGV}[\N{0}];}}
\L{\LB{\V{my}_\N{\$dir}_=_\N{\$ARGV}[\N{1}];}}
\L{\LB{\V{my}_\N{\$get}_=_\N{\$ARGV}[\N{2}];}}
\L{\LB{\V{my}_\N{\$put}_=_\N{\$ARGV}[\N{3}];}}
\L{\LB{\V{my}_\N{\$ip}_=_\N{\$ARGV}[\N{4}];}}
\L{\LB{}}
\L{\LB{\V{my}_\%\V{firewall}_=_(}}
\L{\LB{}\Tab{8}{\S{}{'}192.168.0.1{'}\SE{},\S{}{'}{'}\SE{},}}
\L{\LB{}\Tab{8}{\S{}{'}127.0.0.1{'}\SE{},\S{}{'}{'}\SE{}}}
\L{\LB{);}}
\L{\LB{}}
\L{\LB{\N{\$}\V{\#ARGV}_==_\N{4}_\V{or}_\V{die}_\S{}\3Not_enough_arguments\2n\3\SE{};}}
\index{exists}\Proc{exists}\L{\LB{\V{exists}(\N{\$firewa$\ell$$\ell$}\{\N{\$ip}\})_\V{or}_\V{exit}_\N{401};}}
\L{\LB{}}
\L{\LB{(\N{\$get}_=\~{}_/\2.\V{txt}\N{\$}/\V{i})_\V{or}_\V{exit}_\N{403};}}
\L{\LB{}}
\L{\LB{\V{\#my}_\N{\$ftp}_=_\V{Net}::\V{FTP}\-\!\>\V{new}(\N{\$host},_\V{Timeout}_=\>_\N{50})_\V{or}_\V{exit}_\N{1};}}
\L{\LB{\V{my}_\N{\$ftp};}}
\index{if}\Proc{if}\L{\LB{\K{if}(!(\N{\$ftp}_=_\V{Net}::\V{FTP}\-\!\>\V{new}(\N{\$host},_\V{Timeout}_=\>_\N{50})))_\{}}
\L{\LB{}\Tab{8}{{`}\V{echo}_\V{FTP}_\V{site}_\V{down}_\>_\N{\$put}{`};}}
\L{\LB{}\Tab{8}{\V{exit}_\N{0};}}
\L{\LB{\}}}
\index{login}\Proc{login}\L{\LB{\N{\$ftp}\-\!\>\V{login}()_\V{or}_\V{die}_\S{}\3Couldn{'}t_login\2n\3\SE{};}}
\L{\LB{\N{\$ftp}\-\!\>\V{cwd}(\N{\$dir})_\V{or}_\V{die}_\S{}\3Couldn{'}t_change_directory\2n\3\SE{};}}
\L{\LB{\N{\$ftp}\-\!\>\V{binary};}}
\L{\LB{\N{\$ftp}\-\!\>\V{get}(\N{\$get},_\N{\$put})_\V{or}_\V{die}_\S{}\3Couldn{'}t_get_file\2n\3\SE{};}}
\L{\LB{}}
\L{\LB{\N{\$ftp}\-\!\>\V{quit};}}
